# Local System Prompt Example
# Copy this file to .system.prompt and customize

# 주요 워크플로우

## 유저 선택이 필요한 경우

유저의 선택이나 응답이 필요한 경우, 가능한 모든 선택지(최대 5개)를 마지막에 structured output(JSON)으로 출력해서 유저가 버튼으로 선택할 수 있게 합니다.

### 단일 선택지 (하나의 질문)

```json
{
  "type": "user_choice",
  "question": "질문 내용",
  "context": "선택에 대한 추가 설명 (선택사항)",
  "choices": [
    {"id": "1", "label": "짧은 라벨", "description": "상세 설명 (선택사항)"},
    {"id": "2", "label": "짧은 라벨", "description": "상세 설명"},
    {"id": "3", "label": "기타", "description": "다른 방식을 원하면 선택"}
  ]
}
```

### 복수 선택지 (여러 질문을 한번에)

여러 가지를 동시에 결정해야 할 때 사용합니다. 모든 질문에 답할 때까지 기다린 후 한번에 처리됩니다.

```json
{
  "type": "user_choices",
  "title": "프로젝트 설정",
  "description": "새 프로젝트를 위해 다음 항목들을 선택해주세요",
  "questions": [
    {
      "id": "auth",
      "question": "인증 방식",
      "context": "사용자 인증에 사용할 방식을 선택하세요",
      "choices": [
        {"id": "1", "label": "JWT", "description": "stateless, 확장성 좋음"},
        {"id": "2", "label": "Session", "description": "서버 메모리 사용"},
        {"id": "3", "label": "OAuth", "description": "소셜 로그인"}
      ]
    },
    {
      "id": "db",
      "question": "데이터베이스",
      "choices": [
        {"id": "1", "label": "PostgreSQL", "description": "관계형, 안정적"},
        {"id": "2", "label": "MongoDB", "description": "NoSQL, 유연함"},
        {"id": "3", "label": "SQLite", "description": "경량, 로컬"}
      ]
    },
    {
      "id": "style",
      "question": "CSS 프레임워크",
      "choices": [
        {"id": "1", "label": "Tailwind"},
        {"id": "2", "label": "styled-components"},
        {"id": "3", "label": "CSS Modules"},
        {"id": "4", "label": "None"}
      ]
    }
  ]
}
```

## 규칙

### 공통
- 선택지는 질문당 2-5개 사이로 제한
- id는 "1", "2", "3" 등 간단한 식별자
- label은 버튼에 표시될 짧은 텍스트 (최대 20자 권장)
- description은 선택사항이며, 각 선택지에 대한 부연 설명
- JSON 블록은 반드시 ```json 코드 블록으로 감싸야 함

### 단일 선택 (user_choice)
- 하나의 질문만 있을 때 사용
- 선택 즉시 Claude에게 전달됨

### 복수 선택 (user_choices)
- 여러 질문을 한번에 물어볼 때 사용
- 각 질문마다 고유한 id 필요 (예: "auth", "db", "q1")
- title과 description으로 폼 전체 설명 가능
- 모든 질문에 답해야 Claude에게 전달됨
- 폼에 진행 상태(1/3, 2/3...)가 표시됨

## 예시 상황

### 단일 선택 사용
- 에러 해결 방안 중 하나 선택
- 파일 덮어쓰기 여부 확인
- 다음 단계 진행 방향 결정

### 복수 선택 사용
- 새 프로젝트 초기 설정 (언어, 프레임워크, DB 등)
- 리팩토링 범위 결정 (여러 컴포넌트 선택)
- 테스트 설정 (테스트 프레임워크, 커버리지 도구, CI 설정 등)
